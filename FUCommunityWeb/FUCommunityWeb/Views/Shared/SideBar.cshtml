@model UserVM

<div class="sidebar">
    <form asp-action="ChangeAvatar" method="post" enctype="multipart/form-data">
        <input type="hidden" name="currentPage" value="@ViewData["CurrentPage"]" />
        <img src="@(Model.User.AvatarImage ?? "/img/avt2.jpg")" class="avatar mb-3 rounded-circle" alt="Avatar">
        <h4 class="username mb-1">@Model.User.FullName</h4>
        <p class="points">Points of week: <span>@Model.User.Point</span></p>
        <div class="d-flex mb-3">
            <input type="file" name="file" id="file" accept="image/*" style="display: none;" onchange="this.form.submit()">
            <button type="button" class="btn btn-changeavt" onclick="document.getElementById('file').click();">Change Avatar</button>
            <button type="button" class="btn btn-editprofile" data-bs-toggle="modal" data-bs-target="#editProfileModal">Edit Profile</button>
        </div>
    </form>
    <ul class="list-group">
        <li class="list-group-item">
            <a href="@Url.Action("Index")"><i class="fa fa-user"></i> My Profile</a>
        </li>
        <li class="list-group-item">
            <a href="@Url.Action("ContactUs")"><i class="fa fa-comment-dots"></i> Message</a>
        </li>
        <li class="list-group-item">
            <a href="@Url.Action("PostHistory")"><i class="fa fa-pencil-alt"></i> Post</a>
        </li>
        <li class="list-group-item">
            <a href="@Url.Action("CourseHistory")"><i class="fa fa-book"></i> Course History</a>
        </li>
    </ul>
</div>

<!-- Edit Modal -->
<div class="modal fade" id="editProfileModal" tabindex="-1" aria-labelledby="editProfileModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="editProfileModalLabel">Edit Profile</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form asp-action="EditProfile" method="post">
                    <div class="mb-3">
                        <label for="fullName" class="form-label">Full Name</label>
                        <input type="text" class="form-control" id="fullName" name="FullName" value="@Model.User.FullName">
                    </div>
                    <div class="mb-3">
                        <label for="email" class="form-label">Email</label>
                        <input type="email" class="form-control" id="email" name="Email" value="@Model.User.Email">
                    </div>
                    <div class="mb-3">
                        <label for="bio" class="form-label">Bio</label>
                        <textarea class="form-control" id="bio" name="Bio">@Model.User.Bio</textarea>
                    </div>
                    <div class="mb-3">
                        <label for="address" class="form-label">Address</label>
                        <input type="text" class="form-control" id="address" name="Address" value="@Model.User.Address">
                    </div>
                    <div class="mb-3">
                        <label for="gender" class="form-label">Gender</label>
                        <select class="form-control" id="gender" name="Gender">
                           
                        </select>
                    </div>
                    <div class="mb-3">
                        <label for="dob" class="form-label">Date of Birth</label>
                        <input type="date" class="form-control" id="dob" name="Dob">
                    </div>
                    <div class="mb-3">
                        <label for="phoneNumber" class="form-label">Phone Number</label>
                        <input type="text" class="form-control" id="phoneNumber" name="PhoneNumber" value="@Model.User.PhoneNumber">
                    </div>
                    <div class="mb-3">
                        <label for="description" class="form-label">Description</label>
                        <textarea class="form-control" id="description" name="Description">@Model.User.Description</textarea>
                    </div>
                    <div class="modal-footer text-end">
                        <button type="button" class="btn-cancel" data-bs-dismiss="modal">Close</button>
                        <button type="submit" class="btn">Save changes</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>


